@model SysPet.Models.SalesViewModel

@{
    ViewData["Title"] = "SalesDetail";
}
<div class="btn-lg btn-block btn-custom-color-info" style="padding: 0.5rem 0;margin-left: 205px;margin-right: 235px;">
    <a class="btn btn-outline-info btn-image-sales" href="@Url.Action("Index", "Sales", new {})">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cash-coin" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0z" />
            <path d="M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1h-.003zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195l.054.012z" />
            <path d="M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083c.058-.344.145-.678.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1H1z" />
            <path d="M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 5.982 5.982 0 0 1 3.13-1.567z" />
        </svg>
        Ir a Ventas
    </a>
</div>

@if (Model != null && Model.Id > 0)
{
    <div class="container-detail">
        <div class="col-lg-4 grid-margin stretch-card">
            <div class="card" style="width: 400px;height: 350px;">
                <div class="card-body">
                    <h4 class="card-title">Venta No. @Model.Id</h4>

                    <div>
                        <dl class="row">

                            <dt class="col-sm-5">
                                @Html.DisplayNameFor(model => model.FechaVenta)
                            </dt>
                            <dd class="col-sm-7">
                                @Html.DisplayFor(model => model.FechaVenta)
                            </dd>
                            <dt class="col-sm-5">
                                @Html.DisplayNameFor(model => model.TotalArticulos)
                            </dt>
                            <dd class="col-sm-7 badge-custom-info">
                                @Html.DisplayFor(model => model.TotalArticulos)
                            </dd>
                            <dt class="col-sm-5">
                                @Html.DisplayNameFor(model => model.TotalSale)
                            </dt>
                            <dd class="col-sm-7 badge-custom-success">
                                <span class="text text-black-50">$@Html.DisplayFor(model => model.TotalSale)</span>
                            </dd>
                            <dd style="max-width:200px;">
                                <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><title>care for pets</title><path d="M19.18,33.58,16.3,32.14a1.41,1.41,0,0,0-.63-.15h-.25a1.42,1.42,0,0,0-1,2.41l5.18,5.21a1.41,1.41,0,0,1,.21,1.71,1.37,1.37,0,0,1-2.24.23l-3.84-3.84a10.35,10.35,0,0,1-2.5-4l-3-8.89A1.16,1.16,0,0,0,6,25.15H6A82.62,82.62,0,0,0,7.12,38.74l.26,1.57a17.4,17.4,0,0,0,2.69,6.79l4.71,7.07a5,5,0,0,1,.68,4A1.51,1.51,0,0,0,16.93,60h5.81A5.26,5.26,0,0,0,28,54.73V47.92a16.64,16.64,0,0,0-1.69-7.3A15.64,15.64,0,0,0,19.18,33.58Z" /><path d="M56.84,24a1.16,1.16,0,0,0-1.1.79l-3,8.89a10.35,10.35,0,0,1-2.5,4l-3.84,3.84a1.37,1.37,0,0,1-2.24-.23,1.41,1.41,0,0,1,.21-1.71l5.18-5.21a1.42,1.42,0,0,0-1-2.41h-.25a1.41,1.41,0,0,0-.63.15l-2.89,1.44a15.64,15.64,0,0,0-7.13,7A16.64,16.64,0,0,0,36,47.92v6.81A5.26,5.26,0,0,0,41.26,60h5.81a1.51,1.51,0,0,0,1.46-1.87,5,5,0,0,1,.68-4l4.71-7.07a17.4,17.4,0,0,0,2.69-6.79l.26-1.57A82.62,82.62,0,0,0,58,25.15h0A1.16,1.16,0,0,0,56.84,24Z" /><path d="M40.51,25.43a8.51,8.51,0,1,0-17,0c0,4.7,3.81,6.69,8.51,6.69S40.51,30.13,40.51,25.43Z" /><path d="M22.62,10.12c-1.94,0-3.52,2.5-3.52,4.45s1.58,2.59,3.52,2.59,3.52-.65,3.52-2.59S24.56,10.12,22.62,10.12Z" /><path d="M37.87,14.57c0,1.94,1.58,2.59,3.52,2.59s3.52-.65,3.52-2.59-1.58-4.45-3.52-4.45S37.87,12.62,37.87,14.57Z" /><path d="M28.08,9.25c0,2.29,1.76,3,3.92,3s3.92-.76,3.92-3S34.17,4,32,4,28.08,7,28.08,9.25Z" /></svg>
                            </dd>
                        </dl>
                    </div>
                </div>
            </div>
        </div>

        @if (Model != null && Model.Id > 0 && Model.DetalleVenta.Any())
        {
            @foreach (var item in Model.DetalleVenta)
            {
                <div class="col-lg-4 grid-margin stretch-card">
                    <div class="card" style="width: 400px;height: 350px;">
                        <div class="card-body">
                            <h4 class="card-title">Artículo: @item.Articulo</h4>
                            <div>
                                <dl class="row">
                                    <dt class="col-sm-6">
                                        @Html.DisplayNameFor(model => item.Descripcion)
                                    </dt>
                                    <dd class="col-sm-6">
                                        @Html.DisplayFor(model => item.Descripcion)
                                    </dd>

                                    <dt class="col-sm-6">
                                        @Html.DisplayNameFor(model => item.Cantidad)
                                    </dt>
                                    <dd class="col-sm-6 badge-custom-info">
                                        <span class="text text-black-50"> @Html.DisplayFor(model => item.Cantidad)</span>
                                    </dd>

                                    <dt class="col-sm-6">
                                        @Html.DisplayNameFor(model => item.Precio)
                                    </dt>
                                    <dd class="col-sm-6 badge-custom-primary">
                                        <span class="text text-black-50">$ @Html.DisplayFor(model => item.Precio)</span>
                                    </dd>

                                    <dt class="col-sm-6">
                                        @Html.DisplayNameFor(model => item.TotalItem)
                                    </dt>
                                    <dd class="col-sm-6 badge-custom-success">
                                        <span class="text text-black-50">$ @Html.DisplayFor(model => item.TotalItem)</span>
                                    </dd>
                                    @if (item.Imagen != null)
                                    {
                                        <dd class="col-sm-12" style="display: flex;justify-content: center;">
                                            <img src="data:@item.TipoContenido;base64,@(Convert.ToBase64String(item.Imagen))" class="rounded-3" style="width: 150px; height:150px;"
                                                 alt="Imagen del Paciente" />
                                        </dd>
                                    }
                                </dl>
                            </div>
                        </div>
                    </div>
                </div>
            }
        }

    </div>
}
else
{
    <div class="col-lg-4 grid-margin stretch-card">
        <div class="card" style="width: 400px;height: 350px;">
            <div class="card-body">
                <h4 class="card-title">Datos vacíos</h4>
                <div>
                    <p class="text text-info"> No se encontró registros de Ventas para este Clíente.</p>
                    <span class="text text-warning">Puedes realizar una Venta en el apartado correspondiente</span>
                </div>
                <div style="display:flex; justify-content: center;">
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100" height="100">
                        <defs>

                            <g id="bg" fill="#ff4651" class="bg"><path d="M0,50a50,50 0 1,0 100,0a50,50 0 1,0 -100,0" /></g>

                            <path fill="#ffffff" id="i-424" d="M18.811,17.982c0.229,0.043,0.442,0.063,0.643,0.063c2.63,0,3.017-2.977,3.357-5.602c0.057-0.428,0.112-0.861,0.179-1.293 c0.248-1.635,0.462-4.611-0.897-6.193C21.554,4.33,20.83,4,20,4c-2.792,0-5.241,3.395-5.864,5.74 c-0.543,2.031-0.301,4.076,0.664,5.613C15.669,16.738,17.055,17.646,18.811,17.982z M16.067,10.256C16.567,8.381,18.518,6,20,6 c0.245,0,0.417,0.078,0.575,0.262c0.586,0.68,0.756,2.48,0.436,4.588c-0.066,0.447-0.125,0.895-0.183,1.336 c-0.303,2.332-0.562,3.859-1.375,3.859c-0.085,0-0.175-0.01-0.27-0.027c-1.211-0.23-2.116-0.813-2.69-1.727 C15.823,13.223,15.667,11.752,16.067,10.256z M28.907,17.992c0.147,0.012,0.271,0.008,0.434,0.018c3.51,0,5.387-3.592,5.646-6.934 c0.151-1.957-0.588-4.072-1.93-5.523C32.13,4.553,31.033,4,29.97,4c-2.975,0-3.442,3.24-3.855,6.1l-0.109,0.75 c-0.451,2.986-0.246,4.834,0.664,5.988C27.2,17.512,27.974,17.912,28.907,17.992z M27.982,11.148l0.111-0.762 C28.488,7.656,28.81,6,29.97,6c0.492,0,1.083,0.332,1.619,0.912c0.766,0.826,1.536,2.314,1.404,4.01 c-0.197,2.547-1.534,5.268-3.915,5.078c-0.498-0.043-0.71-0.236-0.839-0.4C27.722,14.943,27.634,13.445,27.982,11.148z M12.815,28.857c1.13,0,2.129-0.396,2.888-1.146c0.635-0.627,2.601-2.986,1.244-6.998c-0.46-1.359-2.757-4.773-5.454-4.773 c-0.25,0-0.498,0.029-0.737,0.09C7.924,16.74,7,21.455,7,23c0,2.146,0.879,3.869,2.474,4.85 C9.964,28.154,11.272,28.857,12.815,28.857C12.815,28.857,12.814,28.857,12.815,28.857z M9,23c0-1.326,0.87-4.686,2.243-5.031 c0.08-0.02,0.162-0.029,0.25-0.029c1.388,0,3.215,2.396,3.56,3.414c0.958,2.832-0.21,4.395-0.756,4.936 c-0.388,0.383-0.873,0.568-1.482,0.568c-0.841,0-1.734-0.365-2.292-0.709C9.513,25.525,9,24.467,9,23z M38.495,17.137 c-0.436-0.256-0.931-0.385-1.473-0.385c-2.426,0-5.135,2.607-5.855,3.695c-1.624,2.445-3.645,5.49-0.874,8.26 c1.028,1.027,2.333,1.549,3.878,1.549c0.657,0,1.356-0.098,2.082-0.291c1.622-0.441,2.324-1.514,3.387-3.135l0.183-0.277 c0.871-1.318,1.087-2.652,1.165-4.51C41.057,20.42,40.928,18.57,38.495,17.137z M38.989,21.957 c-0.066,1.545-0.218,2.559-0.837,3.494l-0.187,0.283c-1.046,1.598-1.386,2.068-2.234,2.299c-0.552,0.148-1.077,0.223-1.561,0.223 c-1.01,0-1.815-0.314-2.464-0.963c-1.297-1.297-1.075-2.424,1.126-5.74c0.636-0.959,2.842-2.801,4.189-2.801 c0.184,0,0.335,0.037,0.459,0.109C38.851,19.668,39.053,20.468,38.989,21.957z M32.368,33.111c-1.642-1.408-4.124-3.537-5.543-5.666 c-0.148-0.221-0.287-0.49-0.434-0.77c-0.563-1.068-1.414-2.686-3.208-2.686c-0.094,0-0.188,0.004-0.291,0.014 c-1.154,0.117-1.869,0.957-2.859,2.117c-1.102,1.291-2.61,3.061-5.589,5.047c-3.176,2.117-3.863,4.496-2.376,8.211 c0.908,2.268,2.703,3.467,5.187,3.467c1.394,0,2.731-0.361,3.708-0.625c0.365-0.098,0.818-0.219,0.9-0.23 c0.272,0.037,1.098,0.34,1.826,0.609c1.691,0.625,3.799,1.4,5.302,1.4c2.387,0,4.563-1.838,5.442-3.654 c0.647-1.344,1.732-3.594-0.738-6.055C33.418,34.014,32.949,33.609,32.368,33.111z M32.591,39.564 C32.115,40.547,30.644,42,28.992,42c-1.146,0-3.148-0.738-4.611-1.275c-1.125-0.416-1.784-0.654-2.254-0.716l-0.21-0.015 c-0.381,0-0.84,0.125-1.474,0.297c-0.868,0.234-2.059,0.555-3.187,0.555c-1.667,0-2.726-0.701-3.33-2.211 c-1.129-2.818-0.733-4.229,1.628-5.803c3.212-2.141,4.891-4.111,6.001-5.414c0.662-0.775,1.184-1.387,1.628-1.428 c0.545,0,0.923,0.641,1.438,1.619c0.182,0.342,0.355,0.67,0.539,0.945c1.572,2.357,4.18,4.594,5.905,6.074 c0.532,0.457,0.964,0.824,1.22,1.08C33.748,37.164,33.28,38.134,32.591,39.564z" />
                        </defs>
                        <use x="0" y="0" class="bg" xlink:href="#bg" />
                        <use x="26" y="26" xlink:href="#i-424" />
                        <use x="0" y="0" xlink:href="#fg" />
                    </svg>
                </div>
            </div>
        </div>
    </div>
}
